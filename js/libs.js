(function(e){"use strict";function t(e,t){s.async(function(){e.trigger("promise:resolved",{detail:t}),e.isResolved=!0,e.resolvedValue=t})}function n(e,t){s.async(function(){e.trigger("promise:failed",{detail:t}),e.isRejected=!0,e.rejectedValue=t})}function i(e){var t,n=[],i=new v,r=e.length;0===r&&i.resolve([]);var s=function(e){return function(t){o(e,t)}},o=function(e,t){n[e]=t,0===--r&&i.resolve(n)},a=function(e){i.reject(e)};for(t=0;r>t;t++)e[t].then(s(t),a);return i}function r(e,t){s[e]=t}var s={},o="undefined"!=typeof window?window:{},a=o.MutationObserver||o.WebKitMutationObserver;if("undefined"!=typeof process&&"[object process]"==={}.toString.call(process))s.async=function(e,t){process.nextTick(function(){e.call(t)})};else if(a){var u=[],l=new a(function(){var e=u.slice();u=[],e.forEach(function(e){var t=e[0],n=e[1];t.call(n)})}),c=document.createElement("div");l.observe(c,{attributes:!0}),window.addEventListener("unload",function(){l.disconnect(),l=null}),s.async=function(e,t){u.push([e,t]),c.setAttribute("drainQueue","drainQueue")}}else s.async=function(e,t){setTimeout(function(){e.call(t)},1)};var d=function(e,t){this.type=e;for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])},h=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n][0]===t)return n;return-1},f=function(e){var t=e._promiseCallbacks;return t||(t=e._promiseCallbacks={}),t},p={mixin:function(e){return e.on=this.on,e.off=this.off,e.trigger=this.trigger,e},on:function(e,t,n){var i,r,s=f(this);for(e=e.split(/\s+/),n=n||this;r=e.shift();)i=s[r],i||(i=s[r]=[]),-1===h(i,t)&&i.push([t,n])},off:function(e,t){var n,i,r,s=f(this);for(e=e.split(/\s+/);i=e.shift();)t?(n=s[i],r=h(n,t),-1!==r&&n.splice(r,1)):s[i]=[]},trigger:function(e,t){var n,i,r,s,o,a=f(this);if(n=a[e])for(var u=0;n.length>u;u++)i=n[u],r=i[0],s=i[1],"object"!=typeof t&&(t={detail:t}),o=new d(e,t),r.call(s,o)}},v=function(){this.on("promise:resolved",function(e){this.trigger("success",{detail:e.detail})},this),this.on("promise:failed",function(e){this.trigger("error",{detail:e.detail})},this)},m=function(){},g=function(e,t,n,i){var r,s,o,a,u="function"==typeof n;if(u)try{r=n(i.detail),o=!0}catch(l){a=!0,s=l}else r=i.detail,o=!0;r&&"function"==typeof r.then?r.then(function(e){t.resolve(e)},function(e){t.reject(e)}):u&&o?t.resolve(r):a?t.reject(s):t[e](r)};v.prototype={then:function(e,t){var n=new v;return this.isResolved&&s.async(function(){g("resolve",n,e,{detail:this.resolvedValue})},this),this.isRejected&&s.async(function(){g("reject",n,t,{detail:this.rejectedValue})},this),this.on("promise:resolved",function(t){g("resolve",n,e,t)}),this.on("promise:failed",function(e){g("reject",n,t,e)}),n},resolve:function(e){t(this,e),this.resolve=m,this.reject=m},reject:function(e){n(this,e),this.resolve=m,this.reject=m}},p.mixin(v.prototype),e.Promise=v,e.Event=d,e.EventTarget=p,e.all=i,e.configure=r})(window.RSVP={});var HTTPRequest=function(){function e(e,t){var n=e.httpRequest;4==n.readyState&&t.resolve({status:n.status,request:e})}function t(t,n){0!=t.httpRequest&&(t.httpRequest.onreadystatechange=function(){e(t,n)})}function n(e){this.debug=e?!0:!1,this.handlers={},this.httpRequest=!1,this.httpRequest||"undefined"==typeof XMLHttpRequest||(this.httpRequest=new XMLHttpRequest)}n.prototype={cancel:function(){this.httpRequest.abort()},openRequest:function(e,n,i){var r=new RSVP.Promise;return t(this,r),this.debug?this.httpRequest.open(e,prompt("Request url",n),i):this.httpRequest.open(e,n,i),r},sendRequest:function(e,t,n,i,r){var s=this.openRequest(e,t,n);if(r)for(var o=0;r.length>o;o++){var a=r[o];this.httpRequest.setRequestHeader(a.name,a.value)}return this.httpRequest.send(i),s},getRequest:function(e,t,n){if(0!=this.httpRequest){this.target=t;var i=null==n?"GET":"POST";return this.sendRequest(i,e,!1,n)}},doPostForm:function(e){if(0!=this.httpRequest){this.target=e,e.method,e.action;for(var t="",t="",n=0;e.elements.length>n;n++){var r=e.elements[n],s=r.id||r.name;if(s){var o=i.getValue(r);o&&(t.length>0&&(t+=","),t+=s,t+="=",t+=escape(o))}}return alert("This method has not been implemented properly, currently no data is accually posted!"),this.doPost(e.action,e,t)}},doPost:function(e,t,n){return this.doRequest(e,"POST",t,n,Array({name:"Content-Type",value:"application/x-www-form-urlencoded"}))},doGet:function(e,t){return this.doRequest(e,"GET",t,null)},doHead:function(e,t){return this.doRequest(e,"HEAD",t,null)},doRequest:function(e,t,n,i,r){return 0!=this.httpRequest?(this.target=n,this.sendRequest(t,e,!0,i,r)):void 0},getXML:function(e,t,n){return 0!=this.httpRequest?(this.getRequest(e,t,n),this.httpRequest.responseXML):void 0},getText:function(e,t,n){return 0!=this.httpRequest?(this.getRequest(e,t,n),this.httpRequest.responseText):void 0},addHandler:function(){throw"No longer implemented, with support for Promise, please use .then( ... )"}},formHelpers={input:function(e){return formHelpers[e.type]?formHelpers[e.type](e):e.value},select:function(e){return e[e.selectedIndex].value},textarea:function(e){return e.value},checkbox:function(e){return e.checked?e.value:null},radio:function(e){return e.checked?e.value:null}};var i={getValue:function(e){var t=e.nodeName.toLowerCase();return formHelpers[t]?formHelpers[t](e):null}};return n}(),Events={safRE:/safari/i,aRE:/^a$/i,eventQueue:[],attach:function(e,t,n){var i=null;e.addEventListener?i=e.addEventListener(t,n,!1):e.attachEvent?i=e.attachEvent("on"+t,n):e["on"+t]=n;var r={type:t,handler:n,element:e,result:i};if(0==this.eventQueue.length){this.eventQueue.push(!1);var s=this;this.eventQueue[0]=this.attach(document.body||document.documentElement,"unload",function(){s.clean()})}return this.eventQueue.push(r),r},detach:function(e){var t=e.element;t.removeEventListener?t.removeEventListener(e.type,e.handler,!1):t.detachEvent?t.detachEvent("on"+e.type,e.handler):t["on"+e.type]=null},cancel:function(e){try{e.preventDefault(),e.stopPropagation()}catch(t){e.returnValue=!1}if(Events.safRE.test(navigator.userAgent)){var n=e.target;if("#text"==n.nodeName&&(n=n.parentNode),Events.aRE.test(n.nodeName)){var i=n.onclick;n.onclick=function(){return n.onclick=i,!1}}}return!1},clean:function(){for(var e=0;this.eventQueue.length>e;this.detach(this.eventQueue[e++]));}},FastButtonListener=function(e,t,n){function i(e){var e=e||event,t=e.target||e.srcElement,n=a(t);if(d===!1&&n!==!1){d=n;var i=function(e){r(e)};v=events.attach(f,"touchend",i),m=events.attach(f,"mouseup",i)}}function r(e){if(d!==!1){var e=e||event,t=e.target||e.srcElement;d&&d.n===t&&s(e),d=!1,o()}return events.cancel(e)}function s(){p[d.rel](d)}function o(){m&&(events.detach(m),m=!1),v&&(events.detach(v),v=!1)}function a(e){if(c.test(e.nodeName)){var t=u(e);if(t&&t.rel&&p[t.rel])return t}return!1}function u(e){var n=e.getAttribute("rel"),i=e.getAttribute("href"),r=null,s=i.indexOf("#"),o=0>s?!1:i.substr(s+1);o!==!1&&(r=t.getElementById(o));var a={n:e,rel:n,id:o,target:r};return a}function l(){var e=function(e){h=(new Date).getTime(),i(e)},t=function(e){var t=(new Date).getTime();t-h>500&&i(e)};events.attach(f,"mousedown",t),events.attach(f,"touchstart",e)}var c=/^a$/i,d=!1,h=0,f=t.documentElement||t.body,p={},v=!1,m=!1;events=n;var g={addHandler:function(e,t){p[e]=t},debug:function(e){console.debug(this),this.eventsOrigin=events,events=e,l()},endDebug:function(){o(),h=0,events=this.eventsOrigin}};return l(),g}(window,document,Events);(function(){var e="WGD_Resolutions_Helper",t=null,n={RESOLUTION_LANDSCAPE:4,RESOLUTION_PORTAIT:2,RESOLUTION_UNDEFINED:1,RESOLUTION_QVGA:16,RESOLUTION_QVGA_LANDSCAPE:20,RESOLUTION_QVGA_PORTRAIT:18,RESOLUTION_NHD:32,RESOLUTION_NHD_LANDSCAPE:36,RESOLUTION_NHD_PORTRAIT:34,RESOLUTION_HOME_SCREEN:8,resolution:1,resizeHandler:Events.attach(window,"resize",function(){n.screenSetup()}),loadHandler:Events.attach(window,"load",function(){if(t=document.getElementById(e),!t){t=document.createElement("div"),t.id=this.HELPER_ID,t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.visibility="hidden";var i=document.getElementsByTagName("body")[0];i.appendChild(t)}window.setTimeout(function(){n.screenSetup()},0)}),screenSetup:function(){var e=n.getShortSize(),t=Math.round(e.min/24);n.setOrientation(e.landscape?"landscape":"portrait"),document.getElementsByTagName("body")[0].style.fontSize=t+"px"},getShortSize:function(){var e=screen.width,n=screen.height;240==e||320==e||360==e||640==e||(e=t.clientWidth||document.body.innerWidth,n=t.clientHeight||document.body.innerHeight);var i=Math.min(e,n);return{min:i,landscape:i!=e}},setOrientation:function(e){var t=document.getElementsByTagName("body")[0];t.className=t.className.replace(/ ?orientation_[^ ]+/,"")+" orientation_"+e}}})(),window.a5s=window.a5s===void 0?{}:window.a5s;var ClassTemplate=function(){function e(e){var t=document.getElementsByTagName("script"),n=t.length,i=n,r=RegExp("^(.*/)"+e+".js\\b.*$","i");for(i;i--;){var s=t[i],o=s.src,a=o.match(r);if(a){var u=a[1]+e+".html";return u}}return null}var t={},n=/\${([^}]+)}/gi,i='<article id="${id}">Loading...</article>',r={};if(helper={loadTemplate:function(t){var n=this.getTemplate(t),i=r[t];if(null===n&&i===void 0){i=new RSVP.Promise;var s=e(t),o=this,a=new HTTPRequest(!1);o.trigger("template.queued",{type:t,url:s}),a.doGet(s).then(function(e){var n=e.request,s=n.httpRequest.responseText;o.addTemplate(t,s),o.trigger("template.finished",{type:t,template:s}),i.trigger("template.finished",{type:t,template:s}),i.resolve({type:t,template:s}),delete r[t]}),r[t]=i}return i},renderTemplate:function(e,t,n,s){var o=ClassTemplate.getTemplate(e),a=r[e],s=s||new RSVP.Promise;if(null===o?(a||(a=this.loadTemplate(e)),a.on("template.finished",function(){ClassTemplate.renderTemplate(e,t,n,s),a.resolve()}),o=i):s.resolve({node:n}),!n)throw"No target-node specified!!!";return n.innerHTML=ClassTemplate.fillTemplate(o,t),s},addTemplate:function(e,n){t[e]=n},getTemplate:function(e){return t[e]?t[e]:null},fillTemplate:function(e,t){for(var i="",r=null,s=0;r=n.exec(e);){var o=t[r[1]];o=o!==void 0?o:r[1],i+=RegExp.leftContext.substr(s)+o,s=n.lastIndex}return 0>=i.length?e:i+=RegExp.rightContext}},window.unittesting){var s=null;helper.reset=function(){null===s&&(s=t),t={};for(var e in s)t[e]=cachedtemplate[e]}}return RSVP.EventTarget.mixin(helper),helper}(a5s);(function(){var e=!1,t=/xyz/.test(function(){})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(n){function i(){!e&&this.init&&this.init.apply(this,arguments)}var r=this.prototype;e=!0;var s=new this;e=!1;for(var o in n)s[o]="function"==typeof n[o]&&"function"==typeof r[o]&&t.test(n[o])?function(e,t){return function(){var n=this._super;this._super=r[e];var i=t.apply(this,arguments);return this._super=n,i}}(o,n[o]):n[o];return i.prototype=s,i.prototype.constructor=i,i.extend=arguments.callee,i}})();var LinkListener={aRE:/^(a)|(div)|(span)$/i,handles:{internal:function(){return!0},external:function(e){return window.open(e.href,"_blank"),!1}},handler:function(e){var e=e||event;if(e.button>1||e.shiftKey||e.ctrlKey||e.altKey||e.metaKey)return!0;var t=e.target||e.srcElement;if(t.nodeName||(t=t.parentNode),this.aRE.test(t.nodeName)){var n=t.getAttribute("rel");if(n&&this.handles[n]&&!this.handles[n](t))return Events.cancel(e)}},addHandler:function(e,t){this.handles[e]=t}};(function(){Events.attach(document.documentElement||document.body,"click",function(e){LinkListener.handler(e)})})();