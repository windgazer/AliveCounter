(function(e){"use strict";function t(e,t){o.async(function(){e.trigger("promise:resolved",{detail:t}),e.isResolved=!0,e.resolvedValue=t})}function n(e,t){o.async(function(){e.trigger("promise:failed",{detail:t}),e.isRejected=!0,e.rejectedValue=t})}function r(e){var t,n=[],r=new p,i=e.length;0===i&&r.resolve([]);var o=function(e){return function(t){s(e,t)}},s=function(e,t){n[e]=t,0===--i&&r.resolve(n)},a=function(e){r.reject(e)};for(t=0;i>t;t++)e[t].then(o(t),a);return r}function i(e,t){o[e]=t}var o={},s="undefined"!=typeof window?window:{},a=s.MutationObserver||s.WebKitMutationObserver;if("undefined"!=typeof process&&"[object process]"==={}.toString.call(process))o.async=function(e,t){process.nextTick(function(){e.call(t)})};else if(a){var u=[],c=new a(function(){var e=u.slice();u=[],e.forEach(function(e){var t=e[0],n=e[1];t.call(n)})}),l=document.createElement("div");c.observe(l,{attributes:!0}),window.addEventListener("unload",function(){c.disconnect(),c=null}),o.async=function(e,t){u.push([e,t]),l.setAttribute("drainQueue","drainQueue")}}else o.async=function(e,t){setTimeout(function(){e.call(t)},1)};var h=function(e,t){this.type=e;for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])},d=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n][0]===t)return n;return-1},f=function(e){var t=e._promiseCallbacks;return t||(t=e._promiseCallbacks={}),t},v={mixin:function(e){return e.on=this.on,e.off=this.off,e.trigger=this.trigger,e},on:function(e,t,n){var r,i,o=f(this);for(e=e.split(/\s+/),n=n||this;i=e.shift();)r=o[i],r||(r=o[i]=[]),-1===d(r,t)&&r.push([t,n])},off:function(e,t){var n,r,i,o=f(this);for(e=e.split(/\s+/);r=e.shift();)t?(n=o[r],i=d(n,t),-1!==i&&n.splice(i,1)):o[r]=[]},trigger:function(e,t){var n,r,i,o,s,a=f(this);if(n=a[e])for(var u=0;n.length>u;u++)r=n[u],i=r[0],o=r[1],"object"!=typeof t&&(t={detail:t}),s=new h(e,t),i.call(o,s)}},p=function(){this.on("promise:resolved",function(e){this.trigger("success",{detail:e.detail})},this),this.on("promise:failed",function(e){this.trigger("error",{detail:e.detail})},this)},m=function(){},g=function(e,t,n,r){var i,o,s,a,u="function"==typeof n;if(u)try{i=n(r.detail),s=!0}catch(c){a=!0,o=c}else i=r.detail,s=!0;i&&"function"==typeof i.then?i.then(function(e){t.resolve(e)},function(e){t.reject(e)}):u&&s?t.resolve(i):a?t.reject(o):t[e](i)};p.prototype={then:function(e,t){var n=new p;return this.isResolved&&o.async(function(){g("resolve",n,e,{detail:this.resolvedValue})},this),this.isRejected&&o.async(function(){g("reject",n,t,{detail:this.rejectedValue})},this),this.on("promise:resolved",function(t){g("resolve",n,e,t)}),this.on("promise:failed",function(e){g("reject",n,t,e)}),n},resolve:function(e){t(this,e),this.resolve=m,this.reject=m},reject:function(e){n(this,e),this.resolve=m,this.reject=m}},v.mixin(p.prototype),e.Promise=p,e.Event=h,e.EventTarget=v,e.all=r,e.configure=i})(window.RSVP={});var HTTPRequest=function(){function e(e,t){var n=e.httpRequest;4==n.readyState&&t.resolve({status:n.status,request:e})}function t(t,n){0!=t.httpRequest&&(t.httpRequest.onreadystatechange=function(){e(t,n)})}function n(e){this.debug=e?!0:!1,this.handlers={},this.httpRequest=!1,this.httpRequest||"undefined"==typeof XMLHttpRequest||(this.httpRequest=new XMLHttpRequest)}n.prototype={cancel:function(){this.httpRequest.abort()},openRequest:function(e,n,r){var i=new RSVP.Promise;return t(this,i),this.debug?this.httpRequest.open(e,prompt("Request url",n),r):this.httpRequest.open(e,n,r),i},sendRequest:function(e,t,n,r,i){var o=this.openRequest(e,t,n);if(i)for(var s=0;i.length>s;s++){var a=i[s];this.httpRequest.setRequestHeader(a.name,a.value)}return this.httpRequest.send(r),o},getRequest:function(e,t,n){if(0!=this.httpRequest){this.target=t;var r=null==n?"GET":"POST";return this.sendRequest(r,e,!1,n)}},doPostForm:function(e){if(0!=this.httpRequest){this.target=e,e.method,e.action;for(var t="",t="",n=0;e.elements.length>n;n++){var i=e.elements[n],o=i.id||i.name;if(o){var s=r.getValue(i);s&&(t.length>0&&(t+=","),t+=o,t+="=",t+=escape(s))}}return alert("This method has not been implemented properly, currently no data is accually posted!"),this.doPost(e.action,e,t)}},doPost:function(e,t,n){return this.doRequest(e,"POST",t,n,Array({name:"Content-Type",value:"application/x-www-form-urlencoded"}))},doGet:function(e,t){return this.doRequest(e,"GET",t,null)},doHead:function(e,t){return this.doRequest(e,"HEAD",t,null)},doRequest:function(e,t,n,r,i){return 0!=this.httpRequest?(this.target=n,this.sendRequest(t,e,!0,r,i)):void 0},getXML:function(e,t,n){return 0!=this.httpRequest?(this.getRequest(e,t,n),this.httpRequest.responseXML):void 0},getText:function(e,t,n){return 0!=this.httpRequest?(this.getRequest(e,t,n),this.httpRequest.responseText):void 0},addHandler:function(){throw"No longer implemented, with support for Promise, please use .then( ... )"}},formHelpers={input:function(e){return formHelpers[e.type]?formHelpers[e.type](e):e.value},select:function(e){return e[e.selectedIndex].value},textarea:function(e){return e.value},checkbox:function(e){return e.checked?e.value:null},radio:function(e){return e.checked?e.value:null}};var r={getValue:function(e){var t=e.nodeName.toLowerCase();return formHelpers[t]?formHelpers[t](e):null}};return n}(),Events={safRE:/safari/i,aRE:/^a$/i,eventQueue:[],attach:function(e,t,n){var r=null;e.addEventListener?r=e.addEventListener(t,n,!1):e.attachEvent?r=e.attachEvent("on"+t,n):e["on"+t]=n;var i={type:t,handler:n,element:e,result:r};if(0==this.eventQueue.length){this.eventQueue.push(!1);var o=this;this.eventQueue[0]=this.attach(document.body||document.documentElement,"unload",function(){o.clean()})}return this.eventQueue.push(i),i},detach:function(e){var t=e.element;t.removeEventListener?t.removeEventListener(e.type,e.handler,!1):t.detachEvent?t.detachEvent("on"+e.type,e.handler):t["on"+e.type]=null},cancel:function(e){try{e.preventDefault(),e.stopPropagation()}catch(t){e.returnValue=!1}if(Events.safRE.test(navigator.userAgent)){var n=e.target;if("#text"==n.nodeName&&(n=n.parentNode),Events.aRE.test(n.nodeName)){var r=n.onclick;n.onclick=function(){return n.onclick=r,!1}}}return!1},clean:function(){for(var e=0;this.eventQueue.length>e;this.detach(this.eventQueue[e++]));}},FastButtonListener=function(e,t,n){function r(e){var e=e||event,t=e.target||e.srcElement,n=a(t);if(h===!1&&n!==!1){h=n;var r=function(e){i(e)};p=events.attach(f,"touchend",r),m=events.attach(f,"mouseup",r)}}function i(e){if(h!==!1){var e=e||event,t=e.target||e.srcElement;h&&h.n===t&&o(e),h=!1,s()}return events.cancel(e)}function o(){v[h.rel](h)}function s(){m&&(events.detach(m),m=!1),p&&(events.detach(p),p=!1)}function a(e){if(l.test(e.nodeName)){var t=u(e);if(t&&t.rel&&v[t.rel])return t}return!1}function u(e){var n=e.getAttribute("rel"),r=e.getAttribute("href"),i=null,o=r.indexOf("#"),s=0>o?!1:r.substr(o+1);s!==!1&&(i=t.getElementById(s));var a={n:e,rel:n,id:s,target:i};return a}function c(){var e=function(e){d=(new Date).getTime(),r(e)},t=function(e){var t=(new Date).getTime();t-d>500&&r(e)};events.attach(f,"mousedown",t),events.attach(f,"touchstart",e)}var l=/^a$/i,h=!1,d=0,f=t.documentElement||t.body,v={},p=!1,m=!1;events=n;var g={addHandler:function(e,t){v[e]=t},debug:function(e){console.debug(this),this.eventsOrigin=events,events=e,c()},endDebug:function(){s(),d=0,events=this.eventsOrigin}};return c(),g}(window,document,Events);(function(){var e="WGD_Resolutions_Helper",t=null,n={RESOLUTION_LANDSCAPE:4,RESOLUTION_PORTAIT:2,RESOLUTION_UNDEFINED:1,RESOLUTION_QVGA:16,RESOLUTION_QVGA_LANDSCAPE:20,RESOLUTION_QVGA_PORTRAIT:18,RESOLUTION_NHD:32,RESOLUTION_NHD_LANDSCAPE:36,RESOLUTION_NHD_PORTRAIT:34,RESOLUTION_HOME_SCREEN:8,resolution:1,resizeHandler:Events.attach(window,"resize",function(){n.screenSetup()}),loadHandler:Events.attach(window,"load",function(){if(t=document.getElementById(e),!t){t=document.createElement("div"),t.id=this.HELPER_ID,t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.visibility="hidden";var r=document.getElementsByTagName("body")[0];r.appendChild(t)}window.setTimeout(function(){n.screenSetup()},0)}),screenSetup:function(){var e=n.getShortSize(),t=Math.round(e.min/24);n.setOrientation(e.landscape?"landscape":"portrait"),document.getElementsByTagName("body")[0].style.fontSize=t+"px"},getShortSize:function(){var e=screen.width,n=screen.height;240==e||320==e||360==e||640==e||(e=t.clientWidth||document.body.innerWidth,n=t.clientHeight||document.body.innerHeight);var r=Math.min(e,n);return{min:r,landscape:r!=e}},setOrientation:function(e){var t=document.getElementsByTagName("body")[0];t.className=t.className.replace(/ ?orientation_[^ ]+/,"")+" orientation_"+e}}})(),window.a5s=window.a5s===void 0?{}:window.a5s;var ClassTemplate=function(){function e(e){var t=document.getElementsByTagName("script"),n=t.length,r=n,i=RegExp("^(.*/)"+e+".js\\b.*$","i");for(r;r--;){var o=t[r],s=o.src,a=s.match(i);if(a){var u=a[1]+e+".html";return u}}return null}var t={},n=/\${([^}]+)}/gi,r='<article id="${id}">Loading...</article>',i={};if(helper={loadTemplate:function(t){var n=this.getTemplate(t),r=i[t];if(null===n&&r===void 0){r=new RSVP.Promise;var o=e(t),s=this,a=new HTTPRequest(!1);s.trigger("template.queued",{type:t,url:o}),a.doGet(o).then(function(e){var n=e.request,o=n.httpRequest.responseText;s.addTemplate(t,o),s.trigger("template.finished",{type:t,template:o}),r.trigger("template.finished",{type:t,template:o}),r.resolve({type:t,template:o}),delete i[t]}),i[t]=r}return r},renderTemplate:function(e,t,n,o){var s=ClassTemplate.getTemplate(e),a=i[e],o=o||new RSVP.Promise;if(null===s?(a||(a=this.loadTemplate(e)),a.on("template.finished",function(){ClassTemplate.renderTemplate(e,t,n,o),a.resolve()}),s=r):o.resolve({node:n}),!n)throw"No target-node specified!!!";return n.innerHTML=ClassTemplate.fillTemplate(s,t),o},addTemplate:function(e,n){t[e]=n},getTemplate:function(e){return t[e]?t[e]:null},fillTemplate:function(e,t){for(var r="",i=null,o=0;i=n.exec(e);){var s=t[i[1]];s=s!==void 0?s:i[1],r+=RegExp.leftContext.substr(o)+s,o=n.lastIndex}return 0>=r.length?e:r+=RegExp.rightContext}},window.unittesting){var o=null;helper.reset=function(){null===o&&(o=t),t={};for(var e in o)t[e]=cachedtemplate[e]}}return RSVP.EventTarget.mixin(helper),helper}(a5s);(function(){var e=!1,t=/xyz/.test(function(){})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(n){function r(){!e&&this.init&&this.init.apply(this,arguments)}var i=this.prototype;e=!0;var o=new this;e=!1;for(var s in n)o[s]="function"==typeof n[s]&&"function"==typeof i[s]&&t.test(n[s])?function(e,t){return function(){var n=this._super;this._super=i[e];var r=t.apply(this,arguments);return this._super=n,r}}(s,n[s]):n[s];return r.prototype=o,r.prototype.constructor=r,r.extend=arguments.callee,r}})();var DragDrop=function(e){function t(t){for(var r,t=t||event,i=t.target||t.srcElement,o=i,f=null;o&&!(f=o.getAttribute("data-dragsource"));)o=o.parentNode;r=c[f],o&&f&&r&&(h=f,l=o,d=new RSVP.Promise,d.then(function(e){r(o,e)}),s=events.attach(e,"mouseup",n),a=events.attach(e,"touchend",n),u=events.attach(e,"touchmove",function(e){e.preventDefault()}))}function n(e){s=events.detach(s),a=events.detach(a),u=events.detach(u);var e=e||event,t=e.target||e.srcElement,n=t,r=null;for(e.changedTouches&&document.elementFromPoint&&(n=document.elementFromPoint(e.changedTouches[0].pageX,e.changedTouches[0].pageY));n&&!(r=n.getAttribute("data-dragtarget"));)n=n.parentNode;n&&r&&r===h?d.resolve(n):d.reject()}function r(){i=events.attach(e,"mousedown",t),o=events.attach(e,"touchstart",t)}var i,o,s,a,u,c={},l=null,h=null,d=null;return DragDrop={addHandler:function(e,t){c[e]=t,i||r()}}}(document.documentElement);